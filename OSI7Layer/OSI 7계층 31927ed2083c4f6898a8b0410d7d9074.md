# OSI 7계층

## 관련 면접 질문 List

---

### OSI 7계층을 나누는 이유는 무엇인가요.

통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있습니다.

### 네트워크 계층과 전송 계층이 수행하는 역할에 대해 설명해주세요.

데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능을 합니다.

### 네트워크 계층의 프로토콜 중 하나를 선택하여 설명해주세요.

IP

인터넷 프로토콜(Internet Protocol)의 약자로 인터넷이 통하는 네트워크에서 어떤 정보를 수신하고 송신하는 통신에 대한 규약을 의미합니다.

### 표현계층에서 무엇을 수핸하는지 설명해주세요.

데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당합니다.

( 파일 인코딩, 명령어를 포장, 압축, 암호화를 한다 )

### UDP에 대해 설명해주세요.

UDP는 비연결성, 신뢰성이 없는 4계층 프로토콜 입니다.

신뢰성이 보장되지 않기 때문에 데이터 손실이 발생할 수 있습니다. 

영상 스트리밍과 같은 서비스는 신뢰성 보다 빠른 속도를 요구하기 때문에 조금 유실 되어도 영상의 품질에 지장이 없어 UDP를 사용 합니다.

### TCP에 대해 설명해주세요.

TCP는 연결지향, 신뢰성이 있는 4계층 프로토콜 이며 흐름제어, 혼잡제어 기능이 있습니다.

연결지향 프로토콜이므로 서버와 클라이언트는 통신하기 전 먼저 연결을 수립해야 합니다.

이러한 연결은 3 way handshake 과정을 통해 수립하게 됩니다.

TCP의 연결 해제는 4 way handshake로 진행이 됩니다. 

### 흐름제어가 필요한 이유를 설명해주세요.

TCP의 가장 큰 특징은 신뢰성으로 중간에 데이터가 유실되지 않는 것을 도와주는 대표적인 방법중 하나입니다.

흐름제어는 송신 측과 수신 측의 데이터 처리 속도차이를 해결하기 위한 기법입니다.

### 소켓은 무엇인가요

소켓은 서버와 클라이언트 사이 통신을 할 수 있도록 해주는 창구 역할입니다.

소켓은 프로토콜(TCP, UDP), 호스트의 IP번호와 포트 번호, 목적지의 IP 번호와 포트 번호로 구성됩니다.

## OSI 7계층을 나눈 이유

---

흐름을 한눈에 알아보기 쉽고 7단계 중 특정한 곳에 이상이 생긴다면 다른 단계의 장비 및 소프트웨어를 건들이지 않고도 해당 단계만 고칠 수 있다. 

## 계층 구분

---

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled.png)

### 상위 계층

사용자를 위한 계층으로 분류

소프트웨어 형태로 구현되는 것이 일반적인 개념. 

### 하위 계층

컴퓨터를 위한 계층

데이터의 흐름 또는 전송을 담당하는 게층

하드웨어 형태로 구현되는 것이 일반적인 개념. 

## OSI 7계층 프로세스

---

### 정리

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%201.png)

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%202.png)

- OSI 7계층은 응용, 표현, 세션, 전송, 네트워크, 데이터링크, 물리계층 으로 나뉜다.
- 전송 시 층마다 인식할 수 있는 헤더를 붙인다 ( 캡슐화 )
- 수신 시 헤더를 떼어내면서 수신을 한다
- 물리계층에서 1, 0의 신호가 되어 전송매체 ( 광섬유, 동축케이블 등)을 통해 전송된다.

## 프로토콜 데이터 단위 ( PDU )

---

### 정리

프로토콜 데이터 단위 ( Protocol Data Unit) : 

- 데이터 통신에서 상위 계층이 전달한 데이터에 붙이는 제어정보를 뜻함.
- 데이터 자체는 동일하지만 각 계층을 거치면서 헤더 정보가 추가 되며 이름이 달라지는 것 이다.

정리 하자면 ? ⇒ 

- 사용자 : Data라 부른다.
- TCP : Segment라 부른다.
- IP : Packet라 부른다.
- 데이터 링크 : Frame라 부른다.

## 각 계층 설명

---

### 물리계층 | 1계층 | Physical Layer

- 전송에 필요한 장치간의 **기계적, 전기적, 기능적, 절차적** 특성에 대한 규칙 정의
- 물리적 전송 매체와 전송 신호 방식을 정의
- 단지 데이터를 전달할뿐 데이터가 무엇인지, 어떤 에러가 있는지 신경 X

**한마디로 ⇒ 데이터를 전기적인 신호로 변환해서 주고 받는 기능만 존재.**

프로토콜: RS-232C, X.21

**RS-232C : 하나의 신호선을 이용해서 한 비트씩 시리얼 전송 할 때 사용**

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%203.png)

전송 단위 : 비트 (bit)

장비 : 케이블, 허브 등

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%204.png)

### 데이터 링크 계층 | 2계층 | Data link Layer

- 인접한 두 시스템간의 신뢰성 있는 정보 전송을 위해 시스템간 연결 설정, 유지, 종료 담당
- 속도 차이 조절을 위한 **흐름제어**
- 프레임 시작/끝 부분을 위해 **동기화**
- 오류 검출/회복을 위한 **오류제어**
- 순차적 정보 전달을 위한 **순서제어**
- 맥 주소를 가지고 통신을 하게된다.

**한마디로 ⇒ 물리계층을 통해 송수신 되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달 수행**

프로토콜: HDLC, LLC, LAPB, LAPD, PPP

**HDLC:** 

- 동기식 전송 방식 사용
- 오류 제어를 위해 Go-Back-N ARQ와 선택적 재전송 ARQ를 사용.

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%205.png)

- 플래그 (Flag) : 프레임의 시작과 끝을 나타내는 고유한 비트 패턴(01111110) 혼선 방지 사용
- FCS : 프레임 내용에 대한 오류 검출을 위해 사용되는 부분. [ CRC 코드가 사용 됨 ]
- CRC (순환 중복 검사) : 데이터에 오류가 있는지 확인하기 위한 체크값을 결정하는 방식

전송 단위 : 프레임 (Frame)

장비 :

브릿지(프레임을 하드웨어 방식으로 처리, **포트 속도 동일**), 

스위치(프레임을 하드웨어 방식으로 처리, **포트 속도 다름**), 

이더넷

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%206.png)

### 네트워크 계층 | 3계층 | Network Layer

- 중계 노드를 통하여 전송하는 경우 어떻게 중계할 것인가를 규정
- 라우팅 기능을 맡고 있는 계층으로 목적지까지 안전하게 데이터 전송
    
    라우팅(Routing) : 최적의 경로를 설정하여 패킷 교환
    
- 흐름제어, 오류제어, 세그멘테이션 수행

**한마디로 ⇒ 데이터를 전송할 주소를 갖고 통신 ( ⇒ IP )** 

핵심 ! ⇒ 송신 호스트에서 수신호스트로 **패킷(데이터그램)을 전송**이 중요!

프로토콜 : IP, IPSec, ICMP, IGMP, ARP

**IP? (IP address) :** 

- 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신하기 위한 주소
- 실제 패킷을 전달하는 역할
- IP 헤더 : IP패킷의 앞부분에 주소등 각종 제어 정보를 담고있음.

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%207.png)

- TOS ( Type of Service ) : 요구되는 서비스 품질을 나타냄
- Identification : 데이터그램의 조각을 구분하기 위해 사용
- TTL : IP 패킷 수명
- Protocol Identifier : 어느 프로토콜이 데이터 내에 포함 되어 있는가를 보여줌

**ICMP :**

- TCP/IP에서 IP 패킷을 처리할 때 발생되는 문제를 알려줌

**ARP :**

- IP 주소 → MAC 주소 변환
- 물리적 네트워크 주소로 대응시키기 위해 사용되는 프로토콜

**IGMP :**

- TCP/IP 프로토콜 집합이 동적 멀티캐스팅을 수행하기 위해 사용하는 표준 프로토콜
- 호스트가 멀티캐스트 그룹 구성원을 인접한 라우터에게 알리는 프로토콜

**IPSec :** 

- 인터넷 통신을 보호하는 프로토콜
- 대표적인 프로토콜 3가지 ( IKE, AH, ESP )
    - IKE : 통신 세션과정에 사용할 암호 키와 알고리즘을 협상
    - AH : 전송하는 패킷에 헤더 필드를 추가. 헤더 필드에는 패킷 내용이 암호화된 해시가 포함되어 있다.
    - ESP : 패킷 헤더에 순차적으로 번호를 부여. 중복 패킷 방지할 수 있다.
    - AH와 ESP를 동시에 사용 가능

전송 단위 : 패킷

장비 : 라우터

→ 서로 다른 네트워크를 연결해 주는 장치

→ 현재의 네트워크에서 다른 네트워크로 패킷을 전송할 수 잇도록 한다.

→ 데이터의 목적지가 정해지면 해당 목적지까지 최적의 경로를 알려주는 기능을 한다.

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%208.png)

### 전송 계층 | 4계층 | Transport Layer

- 종단 간 신뢰성 있고 정확한 데이터 전송 담당
- 송신자와 수신자 간의 신뢰성있고 효율적인 데이터를 전송 하기 위한 오류검출 및 복구, 흐름제어와 중복검사 등 수행.
- 데이터 전송을 위해서 **포트 번호**를 사용함
- Data를 나누고 나누어진 Data를 조립하는 일을 한다.
- 방화벽이나 프록시 서버가 이곳에 해당.

프로토콜 : TCP, UDP 

TCP

- 신뢰성 이 높은 방법
- 데이터를 여러개의 패킷으로 나누어 도착지에서 해당 데이터를 재조립
- 패킷 전송 확인을 위해 ACK 피드백을 보냄

UDP 

- 비 신뢰성
- 데이터를 전송만 하기 때문에 속도가 매우 빠름

전송 단위 : 세그먼트 ( Segment ) [ TCP-세그먼트, UDP-데이타그램 ]

장비 : L4 Switch, gateway

L4 Switch? 

- 로드밸런싱(서버 부하 분산)을 처리하는 장비.
- 외부에서 들어오는 모든 요청은 서버가 아닌 L4스위치를 거쳐 서버들에게 적절히 나누어 준다.
- TCP, UDP, HTTP와 같은 Protocol의 Header를 분석하여 이를 바탕으로 분산을 실시한다.

![Untitled](OSI%207%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%2031927ed2083c4f6898a8b0410d7d9074/Untitled%209.png)

### 세션계층 | 5계층 | Session Layer

- 통신 장치 간의 **상호작용** 및 **동기화**를 제공
- TCP/IP 세션을 생성 및 삭제
- 통신을 하기 위한 세션을 확립,유지,중단
- 연결 세션에서 데이터 교환과 에러 발생 시 복구 관리.

**한마디로 ⇒** **데이터가 통신하기 위한 논리적인 연결을 담당하며 세션을 만들고 없애는 책임을 지니고 있다.** 

### 표현 계층 | 6계층 | Presentation Layer

- 데이터를 어떻게 표현할지 정하는 역할 ( ex_ JPEG, ASCII )
- 데이터 인코딩,디코딩, 압축, 해제, 암호화, 복호화

**한마디로 ⇒ 세션 계층 간의 주고받는 인터페이스를 일관성 있게 제공**

### 응용 계층 | 7계층 | Application Layer

- 사용자가 네트워크에 접근할 수 있도록 서비스를 제공
- 텔넷, 크롬, 이메일, 데이터베이스 관리등의 서비스가 해당 된다.

**한마디로 ⇒ 사용자 인터페이스를 제공하는 프로그램**

프로토콜 : HTTP, FTP, DHCP, DNS

DNS? 

- 사람이 읽을 수 있는 도메인이름( [www.naver.com](http://www.naver.com) )을 IP로 변환

DHCP ( Dynamic Host Configuration Protocol )? 

- 호스트의 IP주소와 각종 TCP/IP 프로토콜의 기본 설정을 클라이언트에게 자동적으로 제공 해주는 프로토콜

FTP? 

- 대량의 파일을 네트워크를 통해 주고 받을 때 사용하는 서비스.